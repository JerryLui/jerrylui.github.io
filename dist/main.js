var o=Object.defineProperty;var c=(a,i,t)=>i in a?o(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t;var s=(a,i,t)=>c(a,typeof i!="symbol"?i+"":i,t);import*as e from"three";var n=class{constructor(i){s(this,"mesh");s(this,"velocity",0);s(this,"gravity",-9.82);s(this,"dampening",.46);s(this,"clickBoostVelocity",3);let t=new e.SphereGeometry(.3,32,32),r=new e.MeshStandardMaterial({color:16744272});this.mesh=new e.Mesh(t,r),this.mesh.castShadow=!0,this.mesh.position.set(0,4,0),i.add(this.mesh)}getMesh(){return this.mesh}onClick(){this.velocity=this.clickBoostVelocity}update(i){this.velocity+=this.gravity*i,this.mesh.position.y+=this.velocity*i,this.mesh.position.y<=.55&&(this.mesh.position.y=.55,this.velocity=-this.velocity*this.dampening)}},h=class{constructor(){s(this,"scene");s(this,"camera");s(this,"renderer");s(this,"ball");s(this,"lastTime",0);s(this,"raycaster");s(this,"mouse");this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(45,globalThis.innerWidth/globalThis.innerHeight,.1,1e3),this.renderer=new e.WebGLRenderer({antialias:!0}),this.raycaster=new e.Raycaster,this.mouse=new e.Vector2,this.setupRenderer(),this.createGround(),this.setupLights(),this.setupCamera(),this.setupEventListeners(),this.ball=new n(this.scene),this.lastTime=performance.now(),this.animate()}setupRenderer(){this.renderer.setSize(globalThis.innerWidth,globalThis.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=e.PCFSoftShadowMap,globalThis.document.body.appendChild(this.renderer.domElement)}createGround(){let i=new e.BoxGeometry(10,.5,10),t=[new e.MeshStandardMaterial({color:8421504,roughness:.8}),new e.MeshStandardMaterial({color:8421504,roughness:.8}),new e.MeshStandardMaterial({color:16777120,roughness:.8}),new e.MeshStandardMaterial({color:8421504,roughness:.8}),new e.MeshStandardMaterial({color:8421504,roughness:.8}),new e.MeshStandardMaterial({color:8421504,roughness:.8})],r=new e.Mesh(i,t);r.receiveShadow=!0,this.scene.add(r)}setupLights(){let i=new e.AmbientLight(16777215,.5);this.scene.add(i);let t=new e.DirectionalLight(16777215,1);t.position.set(0,10,0),t.castShadow=!0,t.shadow.camera.near=.1,t.shadow.camera.far=20,t.shadow.camera.left=-5,t.shadow.camera.right=5,t.shadow.camera.top=5,t.shadow.camera.bottom=-5,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024,this.scene.add(t)}setupCamera(){this.camera.position.set(10,12,10),this.camera.lookAt(0,0,0)}setupEventListeners(){globalThis.addEventListener("resize",()=>{this.camera.aspect=globalThis.innerWidth/globalThis.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(globalThis.innerWidth,globalThis.innerHeight)}),globalThis.addEventListener("click",i=>{this.mouse.x=i.clientX/globalThis.innerWidth*2-1,this.mouse.y=-(i.clientY/globalThis.innerHeight)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObject(this.ball.getMesh()).length>0&&this.ball.onClick()})}animate(){let i=performance.now(),t=(i-this.lastTime)/1e3;this.lastTime=i,this.ball.update(t),globalThis.requestAnimationFrame(()=>this.animate()),this.renderer.render(this.scene,this.camera)}};new h;
